!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,i.vueFeatureToggle=e()}}(function(){return function e(i,t,n){function r(u,a){if(!t[u]){if(!i[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(o)return o(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=t[u]={exports:{}};i[u][0].call(f.exports,function(e){var t=i[u][1][e];return r(t||e)},f,f.exports,e,i,t,n)}return t[u].exports}for(var o="function"==typeof require&&require,u=0;u<n.length;u++)r(n[u]);return r}({1:[function(e,i,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={};return Object.keys(e).forEach(function(t){t.startsWith("_")||(i[t]=u(e[t]))}),i}function r(){function e(e,i){e(i)}function i(e,i){(d.listeners[e]||[]).forEach(function(e){e(i)})}function t(e,i){var t=e.toLowerCase();return"string"==typeof i&&(t+="#"+i.toLowerCase()),t}function r(e){var i=e.split("#");return{name:i[0],variant:i.length>1?i[1]:void 0,data:d.datas[e]}}function a(e,i,t,n){if(void 0==e)throw new Error("feature.visibility(): 1st parameter name must be defined");if(1==arguments.length)throw new Error("feature.visibility(): 2nd parameter name must be a boolean or function, but is empty");var r=e,o=null,u=null,a=null;return void 0==t&&void 0==n?a=i:void 0==n?(o=i,a=t):(o=i,u=t,a=n),{name:r,variant:o,data:u,result:a}}function s(e,i,n,r){var o=void 0;return o={name:e,variant:i,data:n},o.key=t(o.name,o.variant),null==r?o:(o.visibilityFunction=u(r),o.result=o.visibilityFunction({name:o.name,variant:o.variant,data:o.data,_internalCall:!0,description:"When attaching a function, the result must be calculated internally. You can filter this out with the _internalCall:true -Flag."}),o)}function l(e,i,n){var r=d.visibilities;if(c('\nCheck Visibility of <b>Feature "'+e+'", variant "'+(void 0==i?"":i)+'"'+(n?" with data "+JSON.stringify(n):"")+"."),void 0==e)throw new Error('The attribute "name" is required for tag <feature></feature>. Example: <feature name="aname"></feature>');var o=r._required,u=null!=r._required,a=b(o,"requiredVisibility",e,i,n),s=t(e,i),l=r[s],f=null!=r[s],h=b(l,"visibility function",e,i,n),p=null!=i,y=t(e,null),g=r[y],m=b(g,"visibility function (only name)",e,i,n),w=r._default,_=null!=r._default,x=b(w,"defaultVisibility",e,i,n);if(u){if(u&&!0===a)c("The requiredVisibility rule returns true. This feature will be shown when no other rule rejects it.");else if(u&&!1===a)return v(!1,"The requiredVisibility rule returns false. This feature will be hidden.")}else c("No requiredVisibility rule specified for this feature.");return f?v(h,"The visibility rule returns "+h+". This feature will be "+(h?"visible":"hidden")+"."):(c("No visibility rule found matching name and variant."),p&&"boolean"==typeof m?v(m,"Found a visibility rule for name "+e+" without variants. The rule returns "+m+". => This feature will be "+(m?"visible":"hidden")+"."):(p&&c("No rules found for name "+e+" without variants."),_?v(x,"Found a defaultVisibility rule. The rule returns "+x+". => This feature will be "+(x?"visible":"hidden")+"."):(c("No default rule found."),u?v(!0,"Only the requiredVisibility rule was found. This returned true. => This feature will be visible."):v(!1,"No rules were found. This feature will be hidden."))))}var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d={datas:{},listeners:{},visibilities:n(f),showLogs:!1,usedPlugins:[]},c=function(e){if(d.showLogs){if("undefined"==typeof window){var i=e.replace(/<b>/g,"");return void console.log(i)}var t=-1!=e.indexOf("<b>"),n=-1!=e.indexOf("visible"),r=-1!=e.indexOf("hidden"),o=e.replace("visible","%cvisible");if(o=o.replace("hidden","%chidden"),n)console.log(o,"color:green;font-weight:bold;");else if(r)console.log(o,"color:red;font-weight:bold;");else if(t){o=o.replace("<b>","%c");var u=[o,"font-weight:bold;"];console.log.apply(null,u)}else console.log(e)}},v=function(e,i){return c(i),c(""),e},b=function(e,i,t,n,r){if(null!=e){var o=e({name:t,variant:n,data:r});return"boolean"==typeof o?o:v(!1,"The "+i+" returns "+o+". => Please return true or false. This result (and all non-boolean results) will return false.")}},h={name:"feature-toggle-api",setData:function(e,t,n){if(void 0==e)throw new Error("setData(): The name must of the feature must be defined, but ist undefined");var r=void 0!=n?t:void 0,o=n||t,u=s(e,r,o);d.datas[u.key]=u.data,i("visibilityrule",u)},on:function(e,t,n){d.listeners[e]=d.listeners[e]||[],d.listeners[e].push(t),i("registerEvent",{type:e}),void 0!=n&&n.ignorePreviousRules||Object.keys(d.visibilities).forEach(function(e){var i=r(e),n=d.visibilities[e];i.result=n(i.name,i.variant,i.data),t(i)})},trigger:i,showLogs:function(e){d.showLogs=void 0==e||e},isVisible:l,visibility:function(e,t,n,r){var o=a(e,t,n,r),u=s(o.name,o.variant,o.data,o.result);d.visibilities[u.key]=u.visibilityFunction,d.datas[u.key]=u.data,i("visibilityrule",u)},requiredVisibility:function(e){if("function"!=typeof e)throw new Error("feature.requiredVisibility(): 1st parameter must be a function, but is "+(void 0===e?"undefined":o(e)));d.visibilities._required=u(e)},defaultVisibility:function(e){if("function"!=typeof e)throw new Error("feature.defaultVisibility(): 1st parameter must be a function, but is "+(void 0===e?"undefined":o(e)));d.visibilities._default=u(e)},addPlugin:function(i){d.usedPlugins.includes(i)||(e(i,h),d.usedPlugins.push(i))}};return function(t){if(f._plugins){if(!Array.isArray(f._plugins))throw new Error("featuretoggleapi()-constructor: config.plugins must be an array.");f._plugins.forEach(function(i){if("function"!=typeof i)throw new Error("featuretoggleapi()-constructor: config.plugins needs functions as entries, not "+(void 0===i?"undefined":o(i))+".");e(i,t)})}i("init")}(h),h}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(e){return"boolean"==typeof e?function(){return e}:e};i.exports=r},{}],2:[function(e,i,t){!function(){"use strict";function t(e){Object.assign(e,{props:{name:{type:String},variant:{type:String},data:{type:[Object,String]},tag:{type:String,default:"div"}},name:"feature",data:function(){return{isVisible:e.isVisible(this.name,this.variant,this.data)}},render:function(e){if(this.isVisible)return e(this.tag,{"feature-name":this.name,"feature-variant":this.variant},this.$slots.default)},methods:{_isVisible:function(i,t,n){return e.isVisible(i,t,n)}}})}var n=e("feature-toggle-api"),r=new n;r.addPlugin(t),i.exports=r}(),i.exports.__esModule&&(i.exports=i.exports.default),("function"==typeof i.exports?i.exports.options:i.exports)._scopeId="data-v-32d0d8b2"},{"feature-toggle-api":1}],3:[function(e,i,t){"use strict";var n=e("./Feature.vue"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);i.exports=r.default},{"./Feature.vue":2}]},{},[2,3])(3)});
